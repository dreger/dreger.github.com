<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <base href="">
      <title>
  Generating graphs with Processing | K.Q. Dreger
</title>
  <meta name="author" content="K.Q. Dreger">
  <meta property="og:title" content="">
  <meta property="og:url" content="">
  <meta property="og:type" content="article">
  <meta name="Description" content="">
  <meta property="og:description" content="">
  <link rel="shortcut icon" type="image/png" href="/assets/favicon.png">
  <link rel="alternate" type="application/rss+xml" href="/feeds/main.xml" />
  <link rel="canonical" href="" />
  
  <link rel="stylesheet" href="https://dreger.me/d.min.925f914cc7bad61bc8ec8302329b752f8c8a2b733d6428eb21ae582b71cba56e.css">
  <script>var clicky_site_ids = clicky_site_ids || []; clicky_site_ids.push(101218772);</script>
  <script async src="//static.getclicky.com/js"></script>
  <link rel="stylesheet" type="text/css" href="/style.css">
</head>
<body>
  <main class="wrapper">
    <a class="title" href="/">K.Q. Dreger</a>    
    <div class="column">
      
  <h1>Generating graphs with Processing</h1>
  <p><a href="http://designforfun.com/display.php?id=128">Ben Barry&rsquo;s post</a> on designing the 2011 Facebook f8 Conference remains one of my favorite pieces about design on the internet. As I was reading back through it the other day, I came across how Barry had gone about generating those signature Facebook graph images.</p>
<!-- raw HTML omitted -->
<blockquote>
<p>While working on <a href="http://designforfun.com/display.php?id=99">f8 2010</a> we developed a rudimentary Processing script that allowed us to generate graph imagery. For 2011 we dusted it off and polished it up. With a some additional work we developed a robust tool that allowed us to rapidly iterate and develop graphics for a variety of applications. Because of the speed and flexibility it afforded us the entire graphic system for this years f8 was built using imagery generated with Processing.</p>
</blockquote>
<p>With nothing to do on my Saturday night, I downloaded <a href="http://www.processing.org/">Processing</a> and thought I&rsquo;d try to recreate Barry&rsquo;s technique.</p>
<p><img src="http://cargo.kyledreger.com.s3.amazonaws.com/graphs/922.68256graph.png" alt="more graphs">
<img src="http://cargo.kyledreger.com.s3.amazonaws.com/graphs/3835.7178graph.png" alt="more graphs">
<img src="http://cargo.kyledreger.com.s3.amazonaws.com/graphs/3344.5784graph.png" alt="more graphs"></p>
<p>I ended up getting pretty close.</p>
<p>My script, which I ended up calling GraphMaker, starts by randomly placing nodes on the canvas. It then goes through every node and gets a list of nodes within a certain distance to that particular one. Then it&rsquo;s a simple matter of drawing lines from the original node to a limited number of close neighbors.</p>
<p>The results looked good, and I spent at least half an hour <strong>just</strong> tweaking all the parameters that go with each node (color, size, max distance a line can be between two nodes).</p>
<p>However, even though the graphs from my script look similar to the ones from f8, there&rsquo;s one significant flaw that I could never figure out how to fix: overlapping nodes.</p>
<p>Regardless how dense Barry&rsquo;s graphs, no node ever overlaps any of its neighbors - mine do. It&rsquo;s a subtle difference, but one that significantly impacted the quality of my images at the beginning. Eventually, I was able to compensate by having each node retain a slight transparency which enables you to still see individual nodes even when they overlap.</p>
<p>For now, my random-graph-making itch has been scratched, but I hope to revisit this one day and implement a check to ensure that each new node has a little space from its neighbor. Until then, feel free to check out the <a href="https://gist.github.com/kyledreger/5519425">script on GitHub</a> and have some fun.</p>
<p>The final interesting thing from this experiment, that my girlfriend actually pointed out to me, is that each image resembles a constellation. Funny, yet oddly profound when taken in context with our own social graphs and the world around us.</p>
<p><strong>UPDATE:</strong> A reader, Lalith P., sent me an email with <a href="https://github.com/cuttarug/graph-imagery">his solution</a> to the overlapping-nodes problem I was having. Thanks, Lalith!</p>


    </div>
  </main>
</body>
</html>